@inherits RecipeComponentBase

<MudButton 
    Variant="Variant.Filled" 
    Color="Color.Primary"
    OnClick="OnClick"
    Disabled="@_isBusy">
    @(_isBusy ? "Seeding..." : "Seed")
</MudButton>

@code {
    [Inject] private RecipeSeeder Seeder { get; set; } = default!;

    private bool _isBusy;

    private async Task OnClick()
    {
        if (_isBusy)
            return;

        try
        {
            _isBusy = true;
            await Seeder.SeedAll();
        }
        finally
        {
            _isBusy = false;
            Snackbar.Add("Seeding Complete", Severity.Success);
        }
    }
}
